<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Monitoring | Example Guide | SUSE Linux Enterprise High Performance Computing 15 SP2</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><link rel="stylesheet" type="text/css" href="static/css/brand.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using openSUSE XSL Stylesheets 2.0.13 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise High Performance Computing" /><meta name="product-number" content="15 SP2" /><meta name="book-title" content="Example Guide" /><meta name="chapter-title" content="Chapter 6. Monitoring" /><meta name="description" content="What is this chapter about?" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="assignee@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="High Performance Computing" /><link rel="home" href="index.html" title="Example Guide" /><link rel="up" href="part-monitoring.html" title="Part VI. Monitoring" /><link rel="prev" href="part-monitoring.html" title="Part VI. Monitoring" /><link rel="next" href="part-compute.html" title="Part VII. Compute" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Example Guide"><span class="book-icon">Example Guide</span></a><span> › </span><a class="crumb" href="part-monitoring.html">Monitoring</a><span> › </span><a class="crumb" href="cha-monitoring.html">Monitoring</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Example Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-example.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part-intro.html"><span class="number">I </span><span class="name">Introduction</span></a><ol><li class="inactive"><a href="cha-introduction.html"><span class="number">1 </span><span class="name">SUSE Linux Enterprise High Performance Computing 15 SP2</span></a></li></ol></li><li class="inactive"><a href="part-inst.html"><span class="number">II </span><span class="name">Installation</span></a><ol><li class="inactive"><a href="installation.html"><span class="number">2 </span><span class="name">Installation and Upgrade</span></a></li></ol></li><li class="inactive"><a href="part-remote.html"><span class="number">III </span><span class="name">Remote Administration</span></a><ol><li class="inactive"><a href="cha-remote.html"><span class="number">3 </span><span class="name">Remote Administration</span></a></li></ol></li><li class="inactive"><a href="part-nodes.html"><span class="number">IV </span><span class="name">Nodes</span></a><ol><li class="inactive"><a href="cha-nodes.html"><span class="number">4 </span><span class="name">Nodes</span></a></li></ol></li><li class="inactive"><a href="part-sched.html"><span class="number">V </span><span class="name">Scheduler</span></a><ol><li class="inactive"><a href="cha-scheduler.html"><span class="number">5 </span><span class="name">Scheduler</span></a></li></ol></li><li class="inactive"><a href="part-monitoring.html"><span class="number">VI </span><span class="name">Monitoring</span></a><ol><li class="inactive"><a href="cha-monitoring.html"><span class="number">6 </span><span class="name">Monitoring</span></a></li></ol></li><li class="inactive"><a href="part-compute.html"><span class="number">VII </span><span class="name">Compute</span></a><ol><li class="inactive"><a href="cha-compute.html"><span class="number">7 </span><span class="name">Compute</span></a></li></ol></li><li class="inactive"><a href="part-testing.html"><span class="number">VIII </span><span class="name">Testing</span></a><ol><li class="inactive"><a href="cha-testing.html"><span class="number">8 </span><span class="name">Testing your cluster</span></a></li></ol></li><li class="inactive"><a href="app-example-doc-update.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part VI. Monitoring" href="part-monitoring.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part VII. Compute" href="part-compute.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Example Guide"><span class="book-icon">Example Guide</span></a><span> › </span><a class="crumb" href="part-monitoring.html">Monitoring</a><span> › </span><a class="crumb" href="cha-monitoring.html">Monitoring</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part VI. Monitoring" href="part-monitoring.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part VII. Compute" href="part-compute.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div xml:lang="en" class="chapter " id="cha-monitoring" lang="en"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Linux Enterprise High Performance Computing</span> <span class="productnumber">15 SP2</span></div><div><h2 class="title"><span class="number">6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Monitoring</span> </h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>monitoring.xml</li><li><span class="ds-label">ID: </span>cha-monitoring</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-monitoring.html#id-1.8.2.2.1">#</a></h6></div><p>
    What is this chapter about?
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-monitoring.html#sec-monitoring-ganglia"><span class="number">6.1 </span><span class="name">Ganglia — System Monitoring</span></a></span></dt><dt><span class="sect1"><a href="cha-monitoring.html#sec-monitoring-ras"><span class="number">6.2 </span><span class="name">rasdaemon — Utility to Log RAS Error Tracings</span></a></span></dt></dl></div></div><div class="sect1 " id="sec-monitoring-ganglia"><div class="titlepage"><div><div><h2 class="title" id="sec-monitoring-ganglia"><span class="number">6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Ganglia — System Monitoring</span> <a title="Permalink" class="permalink" href="cha-monitoring.html#sec-monitoring-ganglia">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>monitoring.xml</li><li><span class="ds-label">ID: </span>sec-monitoring-ganglia</li></ul></div></div></div></div><p>
   Ganglia is a scalable distributed monitoring system for high-performance
   computing systems, such as clusters and grids. It is based on a
   hierarchical design targeted at federations of clusters.
  </p><p>
   To use Ganglia, make sure to install <span class="package">ganglia-gmetad</span>
   on the management serve then start the Ganglia meta-daemon:
   <code class="command">rcgmead start</code>. To make sure the service is started
   after a reboot, run: <code class="command">systemctl enable gmetad</code>. On
   each cluster node which you want to monitor, install
   <span class="package">ganglia-gmond</span>, start the service <code class="command">rcgmond
   start</code> and make sure it is enabled to be started automatically
   after a reboot: <code class="command">systemctl enable gmond</code>. To test
   whether the <code class="systemitem">gmond</code> daemon has
   connected to the
   meta-daemon, run <code class="command">gstat -a</code> and check that each node to
   be monitored is present in the output.
  </p><p>
   When using the Btrfs file system, the monitoring data will be lost after
   a rollback and the service <code class="systemitem">gmetad</code>. To be able to
   start it again, either install the package
   <span class="package">ganglia-gmetad-skip-bcheck</span> or create the file
   <code class="filename">/etc/ganglia/no_btrfs_check</code>.
  </p><p>
   To use the Ganglia Web interface, it is required to add the "Web and
   Scripting Module" first. This can be done by running
   <code class="command">SUSEConnect -p sle-module-web-scripting/15/x86_64</code>.
   Install <span class="package">ganglia-web</span> on the management server.
   Depending on which PHP version is used (default is PHP 5), enable it in
   Apache2: <code class="command">a2enmod php5</code> or <code class="command">a2enmod
   php7</code>. Then start Apache2 on this machine: <code class="command">rcapache2
   start</code> and make sure it is started automatically after a
   reboot: <code class="command">systemctl enable apache2</code>. The Ganglia Web
   interface should be accessible from
   <code class="literal">http://<em class="replaceable ">MANAGEMENT_SERVER</em>/ganglia</code>.
  </p></div><div class="sect1 " id="sec-monitoring-ras"><div class="titlepage"><div><div><h2 class="title" id="sec-monitoring-ras"><span class="number">6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">rasdaemon — Utility to Log RAS Error Tracings</span> <a title="Permalink" class="permalink" href="cha-monitoring.html#sec-monitoring-ras">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>monitoring.xml</li><li><span class="ds-label">ID: </span>sec-monitoring-ras</li></ul></div></div></div></div><p>
   <code class="systemitem">rasdaemon</code> is a RAS
   (Reliability, Availability and
   Serviceability) logging tool. It records memory errors using the EDAC
   tracing events. EDAC drivers in the Linux kernel handle detection of ECC
   errors from memory controllers.
  </p><p>
   <code class="systemitem">rasdaemon</code> can be used on large
   memory systems to
   track, record and localize memory errors and how they evolve over time
   to detect hardware degradation. Furthermore, it can be used to localize
   a faulty DIMM on the board.
  </p><p>
   To check whether the EDAC drivers are loaded, execute:
  </p><div class="verbatim-wrap"><pre class="screen">ras-mc-ctl --status</pre></div><p>
   The command should return <code class="literal">ras-mc-ctl: drivers are
   loaded</code>. If it indicates that the drivers are not loaded, EDAC
   may not be supported on your board.
  </p><p>
   To start <code class="systemitem">rasdaemon</code>, run
   <code class="command">systemctl start rasdaemon.service</code>.
   To start <code class="systemitem">rasdaemon</code>
   automatically at boot time, execute <code class="command">systemctl enable
   rasdaemon.service</code>. The daemon will log information to
   <code class="filename">/var/log/messages</code> and to an internal database. A
   summary of the stored errors can be obtained with:
  </p><div class="verbatim-wrap"><pre class="screen">ras-mc-ctl --summary</pre></div><p>
   The errors stored in the database can be viewed with
  </p><div class="verbatim-wrap"><pre class="screen">ras-mc-ctl --errors</pre></div><p>
   Optionally, you can load the DIMM labels silk-screened on the system
   board to more easily identify the faulty DIMM. To do so, before starting
   <code class="systemitem">rasdaemon</code>, run:
  </p><div class="verbatim-wrap"><pre class="screen">systemctl start ras-mc-ctl start</pre></div><p>
   For this to work, you need to set up a layout description for the board.
   There are no descriptions supplied by default. To add a layout
   description, create a file with an arbitrary name in the directory
   <code class="filename">/etc/ras/dimm_labels.d/</code>. The format is:
  </p><div class="verbatim-wrap"><pre class="screen">Vendor: <em class="replaceable ">VENDOR-NAME</em>
  Model: <em class="replaceable ">MODEL-NAME</em>
  <em class="replaceable ">LABEL</em>: <em class="replaceable ">MC</em>.<em class="replaceable ">TOP</em>.<em class="replaceable ">MID</em>.<em class="replaceable ">LOW</em></pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part-compute.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part VII </span>Compute</span></a><a class="nav-link" href="part-monitoring.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part VI </span>Monitoring</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2020 
        SUSE</p></div></div></body></html>